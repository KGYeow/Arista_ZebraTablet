@inherits LayoutComponentBase

@inject IFormFactorService FormFactor

<MudThemeProvider Theme="MyCustomTheme" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    @if (factor == "Web")
    {
        <!-- Topbar -->
        <Topbar Title="Batch Barcode Scanner">
            <LeftContent>
                @if (factor == "Web")
                {
                    <MudToggleIconButton Icon="@Icons.Material.Rounded.Menu" ToggledIcon="@Icons.Material.Rounded.MenuOpen" Color="Color.Inherit" Edge="Edge.Start" @bind-Toggled="drawerOpen" />
                }
            </LeftContent>
        </Topbar>

        <!-- Sidebar -->
        <MudDrawer Variant="DrawerVariant.Responsive" ClipMode="DrawerClipMode.Never" @bind-Open="@drawerOpen">
            <NavMenu DrawerOpen="drawerOpen" />
        </MudDrawer>
    }

    <!-- Main Content -->
    @* <MudMainContent Class="min-vh-100 d-flex">
        <!-- Page Content -->
        <MudContainer Class="py-6" MaxWidth="MaxWidth.Large">
            @Body
        </MudContainer>
    </MudMainContent> *@

    <!-- Main Content -->
    <MudMainContent Class="vh-100 d-flex flex-column overflow-hidden">
        <!-- Page Content -->
        @Body
    </MudMainContent>

    @* <!-- Footer -->
    <Footer /> *@
</MudLayout>

@code {
    // Variable declaration & initialization
    private bool drawerOpen = false;

    private string factor => FormFactor.GetFormFactor();
    private string platform => FormFactor.GetPlatform();

    private Topbar.NavItemModel[] topNav = new Topbar.NavItemModel[]
    {
        new ("ASP.NET Core Documentation", "https://learn.microsoft.com/aspnet/core/"),
    };

    // Define custom theme
    // Jabil Brand Portal: https://jabil.sharepoint.com/sites/JabilBrandPortal/ (Navigate to Brand Guidelines)
    MyCustomTheme MyCustomTheme = new MyCustomTheme();
}